{"ast":null,"code":"var _jsxFileName = \"/Users/rafaelaferreira/Desktop/She_Gurus_Project3/She_Gurus/client/src/components/PhotoHolder/index.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { uploadFile } from \"react-s3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst S3_BUCKET = process.env.REACT_APP_HEROKU_AWS_BUCKET;\nconst REGION = process.env.REACT_APP_HEROKU_AWS_DEFAULT_REGION;\nconst ACCESS_KEY = process.env.REACT_APP_HEROKU_AWS_ACCESS_KEY_ID;\nconst SECRET_ACCESS_KEY = process.env.REACT_APP_HEROKU_AWS_SECRET_ACCESS_KEY;\nconst config = {\n  bucketName: S3_BUCKET,\n  region: REGION,\n  accessKeyId: ACCESS_KEY,\n  secretAccessKey: SECRET_ACCESS_KEY\n};\nexport default function PhotoHolder(_ref) {\n  _s();\n\n  let {\n    handleAWS\n  } = _ref;\n  const [selectphoto, setSelectPhoto] = useState(\"\");\n\n  const handleFileInput = event => {\n    const newPhoto = event.target.files[0];\n    setSelectPhoto(newPhoto);\n\n    if (newPhoto) {\n      uploadPhoto(newPhoto, config).then(data => {\n        if (data) {\n          handleAWS({\n            photo: data.location\n          });\n        }\n      }) //returns obj with aws bucket, key(image name) and location (link for image in cloud)\n      .catch(err => console.error(err));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formFile\",\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Upload your profile image:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"photo\",\n        name: \"picture\",\n        onChange: handleFileInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(PhotoHolder, \"p/ctAagGjPzyZhWmnAqixBpwJqs=\");\n\n_c = PhotoHolder;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhotoHolder\");","map":{"version":3,"sources":["/Users/rafaelaferreira/Desktop/She_Gurus_Project3/She_Gurus/client/src/components/PhotoHolder/index.js"],"names":["useState","Form","uploadFile","S3_BUCKET","process","env","REACT_APP_HEROKU_AWS_BUCKET","REGION","REACT_APP_HEROKU_AWS_DEFAULT_REGION","ACCESS_KEY","REACT_APP_HEROKU_AWS_ACCESS_KEY_ID","SECRET_ACCESS_KEY","REACT_APP_HEROKU_AWS_SECRET_ACCESS_KEY","config","bucketName","region","accessKeyId","secretAccessKey","PhotoHolder","handleAWS","selectphoto","setSelectPhoto","handleFileInput","event","newPhoto","target","files","uploadPhoto","then","data","photo","location","catch","err","console","error"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,UAAT,QAA2B,UAA3B;;;AAEA,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAR,CAAYC,2BAA9B;AACA,MAAMC,MAAM,GAAGH,OAAO,CAACC,GAAR,CAAYG,mCAA3B;AACA,MAAMC,UAAU,GAAGL,OAAO,CAACC,GAAR,CAAYK,kCAA/B;AACA,MAAMC,iBAAiB,GAAGP,OAAO,CAACC,GAAR,CAAYO,sCAAtC;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,UAAU,EAAEX,SADC;AAEbY,EAAAA,MAAM,EAAER,MAFK;AAGbS,EAAAA,WAAW,EAAEP,UAHA;AAIbQ,EAAAA,eAAe,EAAEN;AAJJ,CAAf;AAOA,eAAe,SAASO,WAAT,OAAoC;AAAA;;AAAA,MAAf;AAAEC,IAAAA;AAAF,GAAe;AACjD,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCrB,QAAQ,CAAC,EAAD,CAA9C;;AAEA,QAAMsB,eAAe,GAAIC,KAAD,IAAW;AACjC,UAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAjB;AACAL,IAAAA,cAAc,CAACG,QAAD,CAAd;;AAEA,QAAIA,QAAJ,EAAc;AACZG,MAAAA,WAAW,CAACH,QAAD,EAAWX,MAAX,CAAX,CACGe,IADH,CACSC,IAAD,IAAU;AACd,YAAIA,IAAJ,EAAU;AACRV,UAAAA,SAAS,CAAC;AAAEW,YAAAA,KAAK,EAAED,IAAI,CAACE;AAAd,WAAD,CAAT;AACD;AACF,OALH,EAKK;AALL,OAMGC,KANH,CAMUC,GAAD,IAASC,OAAO,CAACC,KAAR,CAAcF,GAAd,CANlB;AAOD;AACF,GAbD;;AAcA,sBACE;AAAA,2BACE,QAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,UAAtB;AAAiC,MAAA,SAAS,EAAC,MAA3C;AAAA,8BACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,IAAD,CAAM,OAAN;AAAc,QAAA,IAAI,EAAC,OAAnB;AAA2B,QAAA,IAAI,EAAC,SAAhC;AAA0C,QAAA,QAAQ,EAAEX;AAApD;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAQD;;GAzBuBJ,W;;KAAAA,W","sourcesContent":["import { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { uploadFile } from \"react-s3\";\n\nconst S3_BUCKET = process.env.REACT_APP_HEROKU_AWS_BUCKET;\nconst REGION = process.env.REACT_APP_HEROKU_AWS_DEFAULT_REGION;\nconst ACCESS_KEY = process.env.REACT_APP_HEROKU_AWS_ACCESS_KEY_ID;\nconst SECRET_ACCESS_KEY = process.env.REACT_APP_HEROKU_AWS_SECRET_ACCESS_KEY;\n\nconst config = {\n  bucketName: S3_BUCKET,\n  region: REGION,\n  accessKeyId: ACCESS_KEY,\n  secretAccessKey: SECRET_ACCESS_KEY,\n};\n\nexport default function PhotoHolder({ handleAWS }) {\n  const [selectphoto, setSelectPhoto] = useState(\"\");\n\n  const handleFileInput = (event) => {\n    const newPhoto = event.target.files[0];\n    setSelectPhoto(newPhoto);\n\n    if (newPhoto) {\n      uploadPhoto(newPhoto, config)\n        .then((data) => {\n          if (data) {\n            handleAWS({ photo: data.location });\n          }\n        }) //returns obj with aws bucket, key(image name) and location (link for image in cloud)\n        .catch((err) => console.error(err));\n    }\n  };\n  return (\n    <>\n      <Form.Group controlId=\"formFile\" className=\"mb-3\">\n        <Form.Label>Upload your profile image:</Form.Label>\n        <Form.Control type=\"photo\" name=\"picture\" onChange={handleFileInput} />\n      </Form.Group>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}